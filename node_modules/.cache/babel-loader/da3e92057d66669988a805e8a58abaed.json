{"ast":null,"code":"const URLa = 'https://www.googleapis.com/youtube/v3/search?part=snippet%20&maxResults=1&order=relevance&q=';\nconst URLb = '%20trailer&key=AIzaSyDJoamFx61luWHpVofetaLKwu_FacN1O18';\nexport function fetchTrailers(movieTitle, movieYear) {\n  let URL = `${URLa}${movieTitle}${movieYear}${URLb}`;\n  return dispatch => {\n    dispatch({\n      type: 'LOADING_TRAILER'\n    });\n    fetch(`${URL}`).then(response => {\n      return response.json();\n    }).then(responseJSON => {\n      try {\n        dispatch({\n          type: 'LOAD_TRAILER',\n          trailer: responseJSON.items[0].id.videoId\n        });\n      } catch (error) {\n        console.error('Error:', error);\n        dispatch({\n          type: 'LOAD_TRAILER',\n          trailer: 'kJQP7kiw5Fk'\n        });\n      }\n    });\n  };\n}","map":{"version":3,"sources":["/Users/marshoward/Development/code/river-frontend/src/actions/trailerActions.js"],"names":["URLa","URLb","fetchTrailers","movieTitle","movieYear","URL","dispatch","type","fetch","then","response","json","responseJSON","trailer","items","id","videoId","error","console"],"mappings":"AAAA,MAAMA,IAAI,GAAG,8FAAb;AACA,MAAMC,IAAI,GAAG,wDAAb;AAEA,OAAO,SAASC,aAAT,CAAwBC,UAAxB,EAAmCC,SAAnC,EAA8C;AACpD,MAAIC,GAAG,GAAI,GAAEL,IAAK,GAAEG,UAAW,GAAEC,SAAU,GAAEH,IAAK,EAAlD;AACA,SAAQK,QAAD,IAAc;AACpBA,IAAAA,QAAQ,CAAC;AAAEC,MAAAA,IAAI,EAAE;AAAR,KAAD,CAAR;AACAC,IAAAA,KAAK,CAAE,GAAEH,GAAI,EAAR,CAAL,CAAgBI,IAAhB,CAAqBC,QAAQ,IAAI;AAC3B,aAAOA,QAAQ,CAACC,IAAT,EAAP;AACF,KAFJ,EAEMF,IAFN,CAEWG,YAAY,IAAI;AAC1B,UAAG;AACEN,QAAAA,QAAQ,CAAC;AAAEC,UAAAA,IAAI,EAAE,cAAR;AAAwBM,UAAAA,OAAO,EAAED,YAAY,CAACE,KAAb,CAAmB,CAAnB,EAAsBC,EAAtB,CAAyBC;AAA1D,SAAD,CAAR;AACJ,OAFD,CAGA,OAAMC,KAAN,EAAY;AACXC,QAAAA,OAAO,CAACD,KAAR,CAAc,QAAd,EAAwBA,KAAxB;AACAX,QAAAA,QAAQ,CAAC;AAAEC,UAAAA,IAAI,EAAE,cAAR;AAAwBM,UAAAA,OAAO,EAAE;AAAjC,SAAD,CAAR;AACC;AACC,KAVJ;AAWA,GAbD;AAcA","sourcesContent":["const URLa = 'https://www.googleapis.com/youtube/v3/search?part=snippet%20&maxResults=1&order=relevance&q='\nconst URLb = '%20trailer&key=AIzaSyDJoamFx61luWHpVofetaLKwu_FacN1O18'\n\nexport function fetchTrailers (movieTitle,movieYear) {\n\tlet URL = `${URLa}${movieTitle}${movieYear}${URLb}`\n\treturn (dispatch) => {\n\t\tdispatch({ type: 'LOADING_TRAILER'})\n\t\tfetch(`${URL}`).then(response => {\n      \t\treturn response.json()\n    \t}).then(responseJSON => {\n\t\t\ttry{\n      \t\tdispatch({ type: 'LOAD_TRAILER', trailer: responseJSON.items[0].id.videoId})\n\t\t\t}\n\t\t\tcatch(error){\n\t\t\t\tconsole.error('Error:', error);\n\t\t\t\tdispatch({ type: 'LOAD_TRAILER', trailer: 'kJQP7kiw5Fk'})\n\t\t  }\n    \t})\n\t}\n}"]},"metadata":{},"sourceType":"module"}
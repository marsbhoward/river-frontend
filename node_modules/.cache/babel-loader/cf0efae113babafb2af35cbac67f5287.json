{"ast":null,"code":"var _jsxFileName = \"/Users/marshoward/Development/code/river-frontend/src/components/searchbox.js\";\nimport React, { Component } from 'react';\nimport { connect } from 'react-redux';\nimport { listMovies } from '../actions/movieActions';\nimport MoviesList from './MoviesList';\nimport { Auth0Context } from \"../react-auth0-spa\";\nimport { findDOMNode } from 'react-dom';\nimport $ from 'jquery';\nlet moviesList; //close sereach area if input box lose fousand input box is empty\n\nclass Searchbox extends Component {\n  constructor() {\n    super();\n\n    this.findTarget = (e, data) => {\n      $('#searchBackground').on('click', function (e) {\n        var a = $(e.target).is('#searchBackground');\n        console.log(a);\n      });\n      console.log(e);\n      console.log(data);\n      console.log('tried');\n    };\n\n    this.loseFocus = () => {\n      console.log('done');\n      this.setState({\n        search: '',\n        open: false\n      });\n    };\n\n    this.handleClick = () => {\n      this.setState({\n        open: true\n      });\n    };\n\n    this.searchMovie = event => {\n      let keyword = event.target.value.toLowerCase();\n      this.setState({\n        search: keyword\n      });\n    };\n\n    this.handleLoading = () => {\n      if (this.props.loading) {\n        return ' ';\n      } else {\n        if (this.props.movieCards === undefined) {\n          window.location.reload();\n        }\n\n        let movieList;\n        movieList = this.props.movieCards.filter(movieCard => {\n          if (this.state.search.length >= 3) {\n            return movieCard;\n          } else {\n            moviesList = '';\n          }\n        }).map((movie, index) => {\n          moviesList = this.props.movieCards.map((movie, index) => {\n            return /*#__PURE__*/React.createElement(MoviesList, {\n              key: index,\n              search: this.state.search,\n              movie: movie,\n              movieID: index + 1,\n              cardStyle: \"height: -webkit-fill-available; overflow: hidden;\",\n              __self: this,\n              __source: {\n                fileName: _jsxFileName,\n                lineNumber: 78,\n                columnNumber: 18\n              }\n            });\n          });\n        });\n      }\n    };\n\n    this.state = {\n      search: '',\n      MoiveData: \"\",\n      open: false\n    };\n    this.loseFocus = this.loseFocus.bind(this);\n  }\n\n  componentDidMount() {\n    this.props.listMovies();\n  }\n\n  render() {\n    let searchState = '';\n    let setClass = '';\n\n    if (this.state.open === false) {\n      searchState = /*#__PURE__*/React.createElement(\"p\", {\n        className: 'searchBar',\n        onClick: this.handleClick,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 90,\n          columnNumber: 21\n        }\n      }, \" Search \");\n      setClass = '';\n    } else {\n      searchState = /*#__PURE__*/React.createElement(\"input\", {\n        type: \"text\",\n        id: \"name-input\",\n        className: \"searchBar\",\n        placeholder: \"Search by title\",\n        onClick: (e, data) => this.findTarget(e),\n        onChange: e => this.searchMovie(e),\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 94,\n          columnNumber: 21\n        }\n      });\n      setClass = 'searchBackground';\n    }\n\n    return (\n      /*#__PURE__*/\n\n      /*onBlur={this.loseFocus}> */\n      React.createElement(\"div\", {\n        onClick: this.findTarget,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 100,\n          columnNumber: 5\n        }\n      }, searchState, this.handleLoading(), /*#__PURE__*/React.createElement(\"div\", {\n        className: setClass,\n        onClick: this.findTarget,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 103,\n          columnNumber: 9\n        }\n      }, /*#__PURE__*/React.createElement(\"div\", {\n        className: \"search-list\",\n        onClick: this.findTarget,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 104,\n          columnNumber: 11\n        }\n      }, moviesList)))\n    );\n  }\n\n}\n\nconst mapDispatchToProps = state => {\n  return {\n    movieCards: state.MoviesReducer.movies,\n    loading: state.MoviesReducer.loading\n  };\n};\n\nexport default connect(mapDispatchToProps, {\n  listMovies\n})(Searchbox);","map":{"version":3,"sources":["/Users/marshoward/Development/code/river-frontend/src/components/searchbox.js"],"names":["React","Component","connect","listMovies","MoviesList","Auth0Context","findDOMNode","$","moviesList","Searchbox","constructor","findTarget","e","data","on","a","target","is","console","log","loseFocus","setState","search","open","handleClick","searchMovie","event","keyword","value","toLowerCase","handleLoading","props","loading","movieCards","undefined","window","location","reload","movieList","filter","movieCard","state","length","map","movie","index","MoiveData","bind","componentDidMount","render","searchState","setClass","mapDispatchToProps","MoviesReducer","movies"],"mappings":"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","sourcesContent":["import React, { Component } from 'react';\nimport { connect } from 'react-redux';\nimport { listMovies } from '../actions/movieActions'\nimport MoviesList from './MoviesList';\nimport { Auth0Context } from \"../react-auth0-spa\";\nimport { findDOMNode } from 'react-dom';\nimport $ from 'jquery'; \n\nlet  moviesList\n//close sereach area if input box lose fousand input box is empty\n\nclass Searchbox extends Component {\n constructor(){\n    super();\n\n    this.state={\n      search:'',\n      MoiveData: \"\",\n      open: false\n    };\n\n  this.loseFocus = this.loseFocus.bind(this)\n  }\n  findTarget = (e, data)=>{\n    $('#searchBackground').on('click' , function(e) {\n      var a = $(e.target).is('#searchBackground');\n      console.log(a)\n    } );\n    console.log(e)\n    console.log(data)\n    console.log('tried')\n  }\n\n  componentDidMount() {\n    this.props.listMovies()\n  }\n\n\n  loseFocus=()=>{\n    console.log('done')\n    this.setState({\n      search:'',\n      open: false\n    })      \n\n  }\n\n  handleClick=()=>{\n    this.setState({open:true})\n  }\n\n  searchMovie=(event)=>{\n    let keyword = event.target.value.toLowerCase();\n    this.setState({search:keyword})\n    \n  }  \t\n\n  handleLoading = () => {\n    if(this.props.loading) {\n      return ' '\n    } \n    else {\n      if (this.props.movieCards === undefined){\n        window.location.reload();\n      } \n      let movieList\n    \n\n      movieList = this.props.movieCards.filter(movieCard=>{\n      if(this.state.search.length >= 3 ){\n            return movieCard\n      }\n      else{\n        moviesList = ''\n      }        \n      }).map((movie,index)=>{\n        moviesList = this.props.movieCards.map((movie, index) => {\n          return <MoviesList key={index} search={this.state.search}  movie={movie} movieID={(index+1)} cardStyle='height: -webkit-fill-available;\n          overflow: hidden;'/>\n        })\n      })\n    }\n  }\n\n  render(){\n    let searchState=''\n    let setClass = ''\n    \n    if (this.state.open === false){\n      searchState = <p className={'searchBar'} onClick={this.handleClick}> Search </p>\n      setClass= ''\n    } \n    else{\n      searchState = <input type=\"text\" id='name-input' className=\"searchBar\" placeholder=\"Search by title\" onClick={((e, data) => this.findTarget(e))} onChange={(e)=>this.searchMovie(e)} />\n      \n      setClass = 'searchBackground'\n    }\n  \treturn(\n      /*onBlur={this.loseFocus}> */\n  \t\t<div onClick={this.findTarget}>\n  \t\t\t{searchState}\n  \t\t\t{this.handleLoading()}\n        <div className={setClass} onClick={this.findTarget}>\n          <div className=\"search-list\" onClick={this.findTarget}>\n              {moviesList}\n          </div>\n        </div>\n  \t\t</div>\n  \t)\n  }\n\n}\n\nconst mapDispatchToProps = state => {\n  return {\n    movieCards: state.MoviesReducer.movies,\n    loading: state.MoviesReducer.loading\n  }\n}\n\nexport default connect(mapDispatchToProps, {listMovies})(Searchbox)"]},"metadata":{},"sourceType":"module"}
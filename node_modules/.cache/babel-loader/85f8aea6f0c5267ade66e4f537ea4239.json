{"ast":null,"code":"const URLa = 'https://youtube.googleapis.com/youtube/v3/search?part=snippet%20&maxResults=1&order=relevance&q=';\nconst URLb = '%20trailer&key=AIzaSyDJoamFx61luWHpVofetaLKwu_FacN1O18'; //https://www.googleapis.com/youtube/v3/search?part=snippet%20&maxResults=1&order=relevance&q=Blade%20Runner%2020492017%20trailer&key=AIzaSyDJoamFx61luWHpVofetaLKwu_FacN1O18\n//'https://youtube.googleapis.com/youtube/v3/search?part=snippet&maxResults=1&order=viewCount&q=blade%20runner%202045%20official%20trailer&key=[YOUR_API_KEY]'\n\nexport function fetchTrailers(movieTitle, movieYear) {\n  let URL = `${URLa}${movieTitle}${movieYear}${URLb}`;\n  return dispatch => {\n    dispatch({\n      type: 'LOADING_TRAILER'\n    });\n    fetch(`${URL}`).then(response => {\n      console.log(response);\n      return response.json();\n    }).then(responseJSON => {\n      console.log(responseJSON);\n\n      try {\n        dispatch({\n          type: 'LOAD_TRAILER',\n          trailer: responseJSON.items[0].id.videoId\n        });\n      } catch (error) {\n        console.error('Error:', error);\n        console.log(responseJSON);\n        dispatch({\n          type: 'LOAD_TRAILER',\n          trailer: 'kJQP7kiw5Fk'\n        });\n      }\n    });\n  };\n}","map":{"version":3,"sources":["/Users/marshoward/Development/code/river-frontend/src/actions/trailerActions.js"],"names":["URLa","URLb","fetchTrailers","movieTitle","movieYear","URL","dispatch","type","fetch","then","response","console","log","json","responseJSON","trailer","items","id","videoId","error"],"mappings":"AAAA,MAAMA,IAAI,GAAG,kGAAb;AACA,MAAMC,IAAI,GAAG,wDAAb,C,CAGA;AACA;;AACA,OAAO,SAASC,aAAT,CAAwBC,UAAxB,EAAmCC,SAAnC,EAA8C;AACpD,MAAIC,GAAG,GAAI,GAAEL,IAAK,GAAEG,UAAW,GAAEC,SAAU,GAAEH,IAAK,EAAlD;AACA,SAAQK,QAAD,IAAc;AACpBA,IAAAA,QAAQ,CAAC;AAAEC,MAAAA,IAAI,EAAE;AAAR,KAAD,CAAR;AACAC,IAAAA,KAAK,CAAE,GAAEH,GAAI,EAAR,CAAL,CAAgBI,IAAhB,CAAqBC,QAAQ,IAAI;AAChCC,MAAAA,OAAO,CAACC,GAAR,CAAYF,QAAZ;AACK,aAAOA,QAAQ,CAACG,IAAT,EAAP;AACF,KAHJ,EAGMJ,IAHN,CAGWK,YAAY,IAAI;AAC1BH,MAAAA,OAAO,CAACC,GAAR,CAAYE,YAAZ;;AACA,UAAG;AACER,QAAAA,QAAQ,CAAC;AAAEC,UAAAA,IAAI,EAAE,cAAR;AAAwBQ,UAAAA,OAAO,EAAED,YAAY,CAACE,KAAb,CAAmB,CAAnB,EAAsBC,EAAtB,CAAyBC;AAA1D,SAAD,CAAR;AACJ,OAFD,CAGA,OAAMC,KAAN,EAAY;AACXR,QAAAA,OAAO,CAACQ,KAAR,CAAc,QAAd,EAAwBA,KAAxB;AACAR,QAAAA,OAAO,CAACC,GAAR,CAAYE,YAAZ;AACAR,QAAAA,QAAQ,CAAC;AAAEC,UAAAA,IAAI,EAAE,cAAR;AAAwBQ,UAAAA,OAAO,EAAE;AAAjC,SAAD,CAAR;AACC;AACC,KAbJ;AAcA,GAhBD;AAiBA","sourcesContent":["const URLa = 'https://youtube.googleapis.com/youtube/v3/search?part=snippet%20&maxResults=1&order=relevance&q='\nconst URLb = '%20trailer&key=AIzaSyDJoamFx61luWHpVofetaLKwu_FacN1O18'\n\n\n//https://www.googleapis.com/youtube/v3/search?part=snippet%20&maxResults=1&order=relevance&q=Blade%20Runner%2020492017%20trailer&key=AIzaSyDJoamFx61luWHpVofetaLKwu_FacN1O18\n//'https://youtube.googleapis.com/youtube/v3/search?part=snippet&maxResults=1&order=viewCount&q=blade%20runner%202045%20official%20trailer&key=[YOUR_API_KEY]'\nexport function fetchTrailers (movieTitle,movieYear) {\n\tlet URL = `${URLa}${movieTitle}${movieYear}${URLb}`\n\treturn (dispatch) => {\n\t\tdispatch({ type: 'LOADING_TRAILER'})\n\t\tfetch(`${URL}`).then(response => {\n\t\t\tconsole.log(response)\n      \t\treturn response.json()\n    \t}).then(responseJSON => {\n\t\t\tconsole.log(responseJSON)\n\t\t\ttry{\n      \t\tdispatch({ type: 'LOAD_TRAILER', trailer: responseJSON.items[0].id.videoId})\n\t\t\t}\n\t\t\tcatch(error){\n\t\t\t\tconsole.error('Error:', error);\n\t\t\t\tconsole.log(responseJSON)\n\t\t\t\tdispatch({ type: 'LOAD_TRAILER', trailer: 'kJQP7kiw5Fk'})\n\t\t  }\n    \t})\n\t}\n}"]},"metadata":{},"sourceType":"module"}
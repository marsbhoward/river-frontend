{"ast":null,"code":"!function (t, r) {\n  \"object\" == typeof exports && \"undefined\" != typeof module ? module.exports = r() : \"function\" == typeof define && define.amd ? define(r) : t.ColorThief = r();\n}(this, function () {\n  if (!t) var t = {\n    map: function (t, r) {\n      var n = {};\n      return r ? t.map(function (t, o) {\n        return n.index = o, r.call(n, t);\n      }) : t.slice();\n    },\n    naturalOrder: function (t, r) {\n      return t < r ? -1 : t > r ? 1 : 0;\n    },\n    sum: function (t, r) {\n      var n = {};\n      return t.reduce(r ? function (t, o, e) {\n        return n.index = e, t + r.call(n, o);\n      } : function (t, r) {\n        return t + r;\n      }, 0);\n    },\n    max: function (r, n) {\n      return Math.max.apply(null, n ? t.map(r, n) : r);\n    }\n  };\n\n  var r = function () {\n    var r = 5,\n        n = 8 - r,\n        o = 1e3;\n\n    function e(t, n, o) {\n      return (t << 2 * r) + (n << r) + o;\n    }\n\n    function i(t) {\n      var r = [],\n          n = !1;\n\n      function o() {\n        r.sort(t), n = !0;\n      }\n\n      return {\n        push: function (t) {\n          r.push(t), n = !1;\n        },\n        peek: function (t) {\n          return n || o(), void 0 === t && (t = r.length - 1), r[t];\n        },\n        pop: function () {\n          return n || o(), r.pop();\n        },\n        size: function () {\n          return r.length;\n        },\n        map: function (t) {\n          return r.map(t);\n        },\n        debug: function () {\n          return n || o(), r;\n        }\n      };\n    }\n\n    function u(t, r, n, o, e, i, u) {\n      this.r1 = t, this.r2 = r, this.g1 = n, this.g2 = o, this.b1 = e, this.b2 = i, this.histo = u;\n    }\n\n    function a() {\n      this.vboxes = new i(function (r, n) {\n        return t.naturalOrder(r.vbox.count() * r.vbox.volume(), n.vbox.count() * n.vbox.volume());\n      });\n    }\n\n    function s(r, n) {\n      if (n.count()) {\n        var o = n.r2 - n.r1 + 1,\n            i = n.g2 - n.g1 + 1,\n            u = t.max([o, i, n.b2 - n.b1 + 1]);\n        if (1 == n.count()) return [n.copy()];\n        var a,\n            s,\n            h,\n            c,\n            f = 0,\n            v = [],\n            l = [];\n        if (u == o) for (a = n.r1; a <= n.r2; a++) {\n          for (c = 0, s = n.g1; s <= n.g2; s++) for (h = n.b1; h <= n.b2; h++) c += r[e(a, s, h)] || 0;\n\n          v[a] = f += c;\n        } else if (u == i) for (a = n.g1; a <= n.g2; a++) {\n          for (c = 0, s = n.r1; s <= n.r2; s++) for (h = n.b1; h <= n.b2; h++) c += r[e(s, a, h)] || 0;\n\n          v[a] = f += c;\n        } else for (a = n.b1; a <= n.b2; a++) {\n          for (c = 0, s = n.r1; s <= n.r2; s++) for (h = n.g1; h <= n.g2; h++) c += r[e(s, h, a)] || 0;\n\n          v[a] = f += c;\n        }\n        return v.forEach(function (t, r) {\n          l[r] = f - t;\n        }), function (t) {\n          var r,\n              o,\n              e,\n              i,\n              u,\n              s = t + \"1\",\n              h = t + \"2\",\n              c = 0;\n\n          for (a = n[s]; a <= n[h]; a++) if (v[a] > f / 2) {\n            for (e = n.copy(), i = n.copy(), u = (r = a - n[s]) <= (o = n[h] - a) ? Math.min(n[h] - 1, ~~(a + o / 2)) : Math.max(n[s], ~~(a - 1 - r / 2)); !v[u];) u++;\n\n            for (c = l[u]; !c && v[u - 1];) c = l[--u];\n\n            return e[h] = u, i[s] = e[h] + 1, [e, i];\n          }\n        }(u == o ? \"r\" : u == i ? \"g\" : \"b\");\n      }\n    }\n\n    return u.prototype = {\n      volume: function (t) {\n        return this._volume && !t || (this._volume = (this.r2 - this.r1 + 1) * (this.g2 - this.g1 + 1) * (this.b2 - this.b1 + 1)), this._volume;\n      },\n      count: function (t) {\n        var r = this.histo;\n\n        if (!this._count_set || t) {\n          var n,\n              o,\n              i,\n              u = 0;\n\n          for (n = this.r1; n <= this.r2; n++) for (o = this.g1; o <= this.g2; o++) for (i = this.b1; i <= this.b2; i++) u += r[e(n, o, i)] || 0;\n\n          this._count = u, this._count_set = !0;\n        }\n\n        return this._count;\n      },\n      copy: function () {\n        return new u(this.r1, this.r2, this.g1, this.g2, this.b1, this.b2, this.histo);\n      },\n      avg: function (t) {\n        var n = this.histo;\n\n        if (!this._avg || t) {\n          var o,\n              i,\n              u,\n              a,\n              s = 0,\n              h = 1 << 8 - r,\n              c = 0,\n              f = 0,\n              v = 0;\n\n          for (i = this.r1; i <= this.r2; i++) for (u = this.g1; u <= this.g2; u++) for (a = this.b1; a <= this.b2; a++) s += o = n[e(i, u, a)] || 0, c += o * (i + .5) * h, f += o * (u + .5) * h, v += o * (a + .5) * h;\n\n          this._avg = s ? [~~(c / s), ~~(f / s), ~~(v / s)] : [~~(h * (this.r1 + this.r2 + 1) / 2), ~~(h * (this.g1 + this.g2 + 1) / 2), ~~(h * (this.b1 + this.b2 + 1) / 2)];\n        }\n\n        return this._avg;\n      },\n      contains: function (t) {\n        var r = t[0] >> n;\n        return gval = t[1] >> n, bval = t[2] >> n, r >= this.r1 && r <= this.r2 && gval >= this.g1 && gval <= this.g2 && bval >= this.b1 && bval <= this.b2;\n      }\n    }, a.prototype = {\n      push: function (t) {\n        this.vboxes.push({\n          vbox: t,\n          color: t.avg()\n        });\n      },\n      palette: function () {\n        return this.vboxes.map(function (t) {\n          return t.color;\n        });\n      },\n      size: function () {\n        return this.vboxes.size();\n      },\n      map: function (t) {\n        for (var r = this.vboxes, n = 0; n < r.size(); n++) if (r.peek(n).vbox.contains(t)) return r.peek(n).color;\n\n        return this.nearest(t);\n      },\n      nearest: function (t) {\n        for (var r, n, o, e = this.vboxes, i = 0; i < e.size(); i++) ((n = Math.sqrt(Math.pow(t[0] - e.peek(i).color[0], 2) + Math.pow(t[1] - e.peek(i).color[1], 2) + Math.pow(t[2] - e.peek(i).color[2], 2))) < r || void 0 === r) && (r = n, o = e.peek(i).color);\n\n        return o;\n      },\n      forcebw: function () {\n        var r = this.vboxes;\n        r.sort(function (r, n) {\n          return t.naturalOrder(t.sum(r.color), t.sum(n.color));\n        });\n        var n = r[0].color;\n        n[0] < 5 && n[1] < 5 && n[2] < 5 && (r[0].color = [0, 0, 0]);\n        var o = r.length - 1,\n            e = r[o].color;\n        e[0] > 251 && e[1] > 251 && e[2] > 251 && (r[o].color = [255, 255, 255]);\n      }\n    }, {\n      quantize: function (h, c) {\n        if (!h.length || c < 2 || c > 256) return !1;\n\n        var f = function (t) {\n          var o,\n              i = new Array(1 << 3 * r);\n          return t.forEach(function (t) {\n            o = e(t[0] >> n, t[1] >> n, t[2] >> n), i[o] = (i[o] || 0) + 1;\n          }), i;\n        }(h);\n\n        f.forEach(function () {});\n\n        var v = function (t, r) {\n          var o,\n              e,\n              i,\n              a = 1e6,\n              s = 0,\n              h = 1e6,\n              c = 0,\n              f = 1e6,\n              v = 0;\n          return t.forEach(function (t) {\n            (o = t[0] >> n) < a ? a = o : o > s && (s = o), (e = t[1] >> n) < h ? h = e : e > c && (c = e), (i = t[2] >> n) < f ? f = i : i > v && (v = i);\n          }), new u(a, s, h, c, f, v, r);\n        }(h, f),\n            l = new i(function (r, n) {\n          return t.naturalOrder(r.count(), n.count());\n        });\n\n        function g(t, r) {\n          for (var n, e = t.size(), i = 0; i < o;) {\n            if (e >= r) return;\n            if (i++ > o) return;\n\n            if ((n = t.pop()).count()) {\n              var u = s(f, n),\n                  a = u[0],\n                  h = u[1];\n              if (!a) return;\n              t.push(a), h && (t.push(h), e++);\n            } else t.push(n), i++;\n          }\n        }\n\n        l.push(v), g(l, .75 * c);\n\n        for (var p = new i(function (r, n) {\n          return t.naturalOrder(r.count() * r.volume(), n.count() * n.volume());\n        }); l.size();) p.push(l.pop());\n\n        g(p, c);\n\n        for (var d = new a(); p.size();) d.push(p.pop());\n\n        return d;\n      }\n    };\n  }().quantize,\n      n = function (t) {\n    this.canvas = document.createElement(\"canvas\"), this.context = this.canvas.getContext(\"2d\"), this.width = this.canvas.width = t.width, this.height = this.canvas.height = t.height, this.context.drawImage(t, 0, 0, this.width, this.height);\n  };\n\n  n.prototype.getImageData = function () {\n    return this.context.getImageData(0, 0, this.width, this.height);\n  };\n\n  var o = function () {};\n\n  return o.prototype.getColor = function (t, r) {\n    return void 0 === r && (r = 10), this.getPalette(t, 5, r)[0];\n  }, o.prototype.getPalette = function (t, o, e) {\n    var i = function (t) {\n      var r = t.colorCount,\n          n = t.quality;\n\n      if (void 0 !== r && Number.isInteger(r)) {\n        if (1 === r) throw new Error(\"colorCount should be between 2 and 20. To get one color, call getColor() instead of getPalette()\");\n        r = Math.max(r, 2), r = Math.min(r, 20);\n      } else r = 10;\n\n      return void 0 === n || Number.isInteger(n) ? n = 10 : n < 1 && (n = 10), {\n        colorCount: r,\n        quality: n\n      };\n    }({\n      colorCount: o,\n      quality: e\n    }),\n        u = new n(t),\n        a = function (t, r, n) {\n      for (var o = t, e = [], i = 0, u = void 0, a = void 0, s = void 0, h = void 0, c = void 0; i < r; i += n) a = o[0 + (u = 4 * i)], s = o[u + 1], h = o[u + 2], (void 0 === (c = o[u + 3]) || c >= 125) && (a > 250 && s > 250 && h > 250 || e.push([a, s, h]));\n\n      return e;\n    }(u.getImageData().data, u.width * u.height, i.quality),\n        s = r(a, i.colorCount);\n\n    return s ? s.palette() : null;\n  }, o.prototype.getColorFromUrl = function (t, r, n) {\n    var o = document.createElement(\"img\"),\n        e = this;\n    o.addEventListener(\"load\", function () {\n      var i = e.getPalette(o, 5, n);\n      r(i[0], t);\n    }), o.src = t;\n  }, o.prototype.getImageData = function (t, r) {\n    var n = new XMLHttpRequest();\n    n.open(\"GET\", t, !0), n.responseType = \"arraybuffer\", n.onload = function () {\n      if (200 == this.status) {\n        var t = new Uint8Array(this.response);\n        o = t.length;\n\n        for (var n = new Array(o), o = 0; o < t.length; o++) n[o] = String.fromCharCode(t[o]);\n\n        var e = n.join(\"\"),\n            i = window.btoa(e);\n        r(\"data:image/png;base64,\" + i);\n      }\n    }, n.send();\n  }, o.prototype.getColorAsync = function (t, r, n) {\n    var o = this;\n    this.getImageData(t, function (t) {\n      var e = document.createElement(\"img\");\n      e.addEventListener(\"load\", function () {\n        var t = o.getPalette(e, 5, n);\n        r(t[0], this);\n      }), e.src = t;\n    });\n  }, o;\n});","map":{"version":3,"sources":["/Users/marshoward/Development/code/river-frontend/node_modules/colorthief/dist/color-thief.umd.js"],"names":["t","r","exports","module","define","amd","ColorThief","map","n","o","index","call","slice","naturalOrder","sum","reduce","e","max","Math","apply","i","sort","push","peek","length","pop","size","debug","u","r1","r2","g1","g2","b1","b2","histo","a","vboxes","vbox","count","volume","s","copy","h","c","f","v","l","forEach","min","prototype","_volume","_count_set","_count","avg","_avg","contains","gval","bval","color","palette","nearest","sqrt","pow","forcebw","quantize","Array","g","p","d","canvas","document","createElement","context","getContext","width","height","drawImage","getImageData","getColor","getPalette","colorCount","quality","Number","isInteger","Error","data","getColorFromUrl","addEventListener","src","XMLHttpRequest","open","responseType","onload","status","Uint8Array","response","String","fromCharCode","join","window","btoa","send","getColorAsync"],"mappings":"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","sourcesContent":["!function(t,r){\"object\"==typeof exports&&\"undefined\"!=typeof module?module.exports=r():\"function\"==typeof define&&define.amd?define(r):t.ColorThief=r()}(this,function(){if(!t)var t={map:function(t,r){var n={};return r?t.map(function(t,o){return n.index=o,r.call(n,t)}):t.slice()},naturalOrder:function(t,r){return t<r?-1:t>r?1:0},sum:function(t,r){var n={};return t.reduce(r?function(t,o,e){return n.index=e,t+r.call(n,o)}:function(t,r){return t+r},0)},max:function(r,n){return Math.max.apply(null,n?t.map(r,n):r)}};var r=function(){var r=5,n=8-r,o=1e3;function e(t,n,o){return(t<<2*r)+(n<<r)+o}function i(t){var r=[],n=!1;function o(){r.sort(t),n=!0}return{push:function(t){r.push(t),n=!1},peek:function(t){return n||o(),void 0===t&&(t=r.length-1),r[t]},pop:function(){return n||o(),r.pop()},size:function(){return r.length},map:function(t){return r.map(t)},debug:function(){return n||o(),r}}}function u(t,r,n,o,e,i,u){this.r1=t,this.r2=r,this.g1=n,this.g2=o,this.b1=e,this.b2=i,this.histo=u}function a(){this.vboxes=new i(function(r,n){return t.naturalOrder(r.vbox.count()*r.vbox.volume(),n.vbox.count()*n.vbox.volume())})}function s(r,n){if(n.count()){var o=n.r2-n.r1+1,i=n.g2-n.g1+1,u=t.max([o,i,n.b2-n.b1+1]);if(1==n.count())return[n.copy()];var a,s,h,c,f=0,v=[],l=[];if(u==o)for(a=n.r1;a<=n.r2;a++){for(c=0,s=n.g1;s<=n.g2;s++)for(h=n.b1;h<=n.b2;h++)c+=r[e(a,s,h)]||0;v[a]=f+=c}else if(u==i)for(a=n.g1;a<=n.g2;a++){for(c=0,s=n.r1;s<=n.r2;s++)for(h=n.b1;h<=n.b2;h++)c+=r[e(s,a,h)]||0;v[a]=f+=c}else for(a=n.b1;a<=n.b2;a++){for(c=0,s=n.r1;s<=n.r2;s++)for(h=n.g1;h<=n.g2;h++)c+=r[e(s,h,a)]||0;v[a]=f+=c}return v.forEach(function(t,r){l[r]=f-t}),function(t){var r,o,e,i,u,s=t+\"1\",h=t+\"2\",c=0;for(a=n[s];a<=n[h];a++)if(v[a]>f/2){for(e=n.copy(),i=n.copy(),u=(r=a-n[s])<=(o=n[h]-a)?Math.min(n[h]-1,~~(a+o/2)):Math.max(n[s],~~(a-1-r/2));!v[u];)u++;for(c=l[u];!c&&v[u-1];)c=l[--u];return e[h]=u,i[s]=e[h]+1,[e,i]}}(u==o?\"r\":u==i?\"g\":\"b\")}}return u.prototype={volume:function(t){return this._volume&&!t||(this._volume=(this.r2-this.r1+1)*(this.g2-this.g1+1)*(this.b2-this.b1+1)),this._volume},count:function(t){var r=this.histo;if(!this._count_set||t){var n,o,i,u=0;for(n=this.r1;n<=this.r2;n++)for(o=this.g1;o<=this.g2;o++)for(i=this.b1;i<=this.b2;i++)u+=r[e(n,o,i)]||0;this._count=u,this._count_set=!0}return this._count},copy:function(){return new u(this.r1,this.r2,this.g1,this.g2,this.b1,this.b2,this.histo)},avg:function(t){var n=this.histo;if(!this._avg||t){var o,i,u,a,s=0,h=1<<8-r,c=0,f=0,v=0;for(i=this.r1;i<=this.r2;i++)for(u=this.g1;u<=this.g2;u++)for(a=this.b1;a<=this.b2;a++)s+=o=n[e(i,u,a)]||0,c+=o*(i+.5)*h,f+=o*(u+.5)*h,v+=o*(a+.5)*h;this._avg=s?[~~(c/s),~~(f/s),~~(v/s)]:[~~(h*(this.r1+this.r2+1)/2),~~(h*(this.g1+this.g2+1)/2),~~(h*(this.b1+this.b2+1)/2)]}return this._avg},contains:function(t){var r=t[0]>>n;return gval=t[1]>>n,bval=t[2]>>n,r>=this.r1&&r<=this.r2&&gval>=this.g1&&gval<=this.g2&&bval>=this.b1&&bval<=this.b2}},a.prototype={push:function(t){this.vboxes.push({vbox:t,color:t.avg()})},palette:function(){return this.vboxes.map(function(t){return t.color})},size:function(){return this.vboxes.size()},map:function(t){for(var r=this.vboxes,n=0;n<r.size();n++)if(r.peek(n).vbox.contains(t))return r.peek(n).color;return this.nearest(t)},nearest:function(t){for(var r,n,o,e=this.vboxes,i=0;i<e.size();i++)((n=Math.sqrt(Math.pow(t[0]-e.peek(i).color[0],2)+Math.pow(t[1]-e.peek(i).color[1],2)+Math.pow(t[2]-e.peek(i).color[2],2)))<r||void 0===r)&&(r=n,o=e.peek(i).color);return o},forcebw:function(){var r=this.vboxes;r.sort(function(r,n){return t.naturalOrder(t.sum(r.color),t.sum(n.color))});var n=r[0].color;n[0]<5&&n[1]<5&&n[2]<5&&(r[0].color=[0,0,0]);var o=r.length-1,e=r[o].color;e[0]>251&&e[1]>251&&e[2]>251&&(r[o].color=[255,255,255])}},{quantize:function(h,c){if(!h.length||c<2||c>256)return!1;var f=function(t){var o,i=new Array(1<<3*r);return t.forEach(function(t){o=e(t[0]>>n,t[1]>>n,t[2]>>n),i[o]=(i[o]||0)+1}),i}(h);f.forEach(function(){});var v=function(t,r){var o,e,i,a=1e6,s=0,h=1e6,c=0,f=1e6,v=0;return t.forEach(function(t){(o=t[0]>>n)<a?a=o:o>s&&(s=o),(e=t[1]>>n)<h?h=e:e>c&&(c=e),(i=t[2]>>n)<f?f=i:i>v&&(v=i)}),new u(a,s,h,c,f,v,r)}(h,f),l=new i(function(r,n){return t.naturalOrder(r.count(),n.count())});function g(t,r){for(var n,e=t.size(),i=0;i<o;){if(e>=r)return;if(i++>o)return;if((n=t.pop()).count()){var u=s(f,n),a=u[0],h=u[1];if(!a)return;t.push(a),h&&(t.push(h),e++)}else t.push(n),i++}}l.push(v),g(l,.75*c);for(var p=new i(function(r,n){return t.naturalOrder(r.count()*r.volume(),n.count()*n.volume())});l.size();)p.push(l.pop());g(p,c);for(var d=new a;p.size();)d.push(p.pop());return d}}}().quantize,n=function(t){this.canvas=document.createElement(\"canvas\"),this.context=this.canvas.getContext(\"2d\"),this.width=this.canvas.width=t.width,this.height=this.canvas.height=t.height,this.context.drawImage(t,0,0,this.width,this.height)};n.prototype.getImageData=function(){return this.context.getImageData(0,0,this.width,this.height)};var o=function(){};return o.prototype.getColor=function(t,r){return void 0===r&&(r=10),this.getPalette(t,5,r)[0]},o.prototype.getPalette=function(t,o,e){var i=function(t){var r=t.colorCount,n=t.quality;if(void 0!==r&&Number.isInteger(r)){if(1===r)throw new Error(\"colorCount should be between 2 and 20. To get one color, call getColor() instead of getPalette()\");r=Math.max(r,2),r=Math.min(r,20)}else r=10;return void 0===n||Number.isInteger(n)?n=10:n<1&&(n=10),{colorCount:r,quality:n}}({colorCount:o,quality:e}),u=new n(t),a=function(t,r,n){for(var o=t,e=[],i=0,u=void 0,a=void 0,s=void 0,h=void 0,c=void 0;i<r;i+=n)a=o[0+(u=4*i)],s=o[u+1],h=o[u+2],(void 0===(c=o[u+3])||c>=125)&&(a>250&&s>250&&h>250||e.push([a,s,h]));return e}(u.getImageData().data,u.width*u.height,i.quality),s=r(a,i.colorCount);return s?s.palette():null},o.prototype.getColorFromUrl=function(t,r,n){var o=document.createElement(\"img\"),e=this;o.addEventListener(\"load\",function(){var i=e.getPalette(o,5,n);r(i[0],t)}),o.src=t},o.prototype.getImageData=function(t,r){var n=new XMLHttpRequest;n.open(\"GET\",t,!0),n.responseType=\"arraybuffer\",n.onload=function(){if(200==this.status){var t=new Uint8Array(this.response);o=t.length;for(var n=new Array(o),o=0;o<t.length;o++)n[o]=String.fromCharCode(t[o]);var e=n.join(\"\"),i=window.btoa(e);r(\"data:image/png;base64,\"+i)}},n.send()},o.prototype.getColorAsync=function(t,r,n){var o=this;this.getImageData(t,function(t){var e=document.createElement(\"img\");e.addEventListener(\"load\",function(){var t=o.getPalette(e,5,n);r(t[0],this)}),e.src=t})},o});\n"]},"metadata":{},"sourceType":"script"}
{"ast":null,"code":"'use strict';\n\nconst Repo = require('../../repo');\n\nclass MemRepo extends Repo {\n  constructor() {\n    super();\n    this.cache = new Set();\n  }\n\n  getByKeys(keys) {\n    if (!keys || !(keys instanceof Array)) return Promise.reject(new Error('Arguments required!'));\n    const rst = keys.map(this.cache.has, this.cache);\n    return Promise.resolve(rst);\n  }\n\n  setByKeys(keys) {\n    if (!keys || !(keys instanceof Array)) return Promise.reject(new Error('Arguments required'));\n    keys.forEach(this.cache.add, this.cache);\n    return Promise.resolve();\n  }\n\n  dispose(callback) {\n    this.cache = null;\n\n    if (callback) {\n      callback();\n    } else {\n      return Promise.resolve();\n    }\n  }\n\n}\n\nmodule.exports = MemRepo;","map":{"version":3,"sources":["/Users/marshoward/Development/code/river/frontend/app/node_modules/seenreq/lib/repo/default.js"],"names":["Repo","require","MemRepo","constructor","cache","Set","getByKeys","keys","Array","Promise","reject","Error","rst","map","has","resolve","setByKeys","forEach","add","dispose","callback","module","exports"],"mappings":"AACA;;AAEA,MAAMA,IAAI,GAAGC,OAAO,CAAC,YAAD,CAApB;;AAEA,MAAMC,OAAN,SAAsBF,IAAtB,CAA0B;AACzBG,EAAAA,WAAW,GAAE;AACZ;AACA,SAAKC,KAAL,GAAa,IAAIC,GAAJ,EAAb;AACA;;AAEDC,EAAAA,SAAS,CAACC,IAAD,EAAM;AACd,QAAG,CAACA,IAAD,IAAS,EAAEA,IAAI,YAAYC,KAAlB,CAAZ,EACC,OAAOC,OAAO,CAACC,MAAR,CAAe,IAAIC,KAAJ,CAAU,qBAAV,CAAf,CAAP;AAED,UAAMC,GAAG,GAAGL,IAAI,CAACM,GAAL,CAAS,KAAKT,KAAL,CAAWU,GAApB,EAAyB,KAAKV,KAA9B,CAAZ;AAEA,WAAOK,OAAO,CAACM,OAAR,CAAgBH,GAAhB,CAAP;AACA;;AAEDI,EAAAA,SAAS,CAACT,IAAD,EAAM;AACd,QAAG,CAACA,IAAD,IAAS,EAAEA,IAAI,YAAYC,KAAlB,CAAZ,EACC,OAAOC,OAAO,CAACC,MAAR,CAAe,IAAIC,KAAJ,CAAU,oBAAV,CAAf,CAAP;AAEDJ,IAAAA,IAAI,CAACU,OAAL,CAAa,KAAKb,KAAL,CAAWc,GAAxB,EAA6B,KAAKd,KAAlC;AACA,WAAOK,OAAO,CAACM,OAAR,EAAP;AACA;;AAEDI,EAAAA,OAAO,CAACC,QAAD,EAAW;AACjB,SAAKhB,KAAL,GAAa,IAAb;;AACA,QAAGgB,QAAH,EAAY;AACXA,MAAAA,QAAQ;AACR,KAFD,MAEK;AACJ,aAAOX,OAAO,CAACM,OAAR,EAAP;AACA;AACD;;AA9BwB;;AAiC1BM,MAAM,CAACC,OAAP,GAAiBpB,OAAjB","sourcesContent":["\n'use strict';\n\nconst Repo = require('../../repo');\n\nclass MemRepo extends Repo{\n\tconstructor(){\n\t\tsuper();\n\t\tthis.cache = new Set();\n\t}\n\n\tgetByKeys(keys){\n\t\tif(!keys || !(keys instanceof Array) )\n\t\t\treturn Promise.reject(new Error('Arguments required!') );\n\t\t\n\t\tconst rst = keys.map(this.cache.has, this.cache);\n\t\t\n\t\treturn Promise.resolve(rst);\n\t}\n\n\tsetByKeys(keys){\n\t\tif(!keys || !(keys instanceof Array) )\n\t\t\treturn Promise.reject(new Error('Arguments required') );\n\t\t\t\n\t\tkeys.forEach(this.cache.add, this.cache);\n\t\treturn Promise.resolve();\n\t}\n\n\tdispose(callback) {\n\t\tthis.cache = null;\n\t\tif(callback){\n\t\t\tcallback();\n\t\t}else{\n\t\t\treturn Promise.resolve();\n\t\t}\n\t}\n}\n\nmodule.exports = MemRepo;\n"]},"metadata":{},"sourceType":"script"}